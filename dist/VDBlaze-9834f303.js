import{_ as t,d as e,F as r,V as o}from"./index-159a4d9d.js";import"@tensorflow/tfjs-core";import"@tensorflow/tfjs-backend-webgl";import"@tensorflow-models/face-landmarks-detection";import"@tensorflow-models/handpose";var n=function(o){function n(t){return o.call(this,t)||this}t(n,o);var i=n.prototype;return i.load=function(){try{var t=this,e=function(e,r){try{var o=Promise.resolve(import("@tensorflow-models/blazeface")).then(function(e){return Promise.resolve(e.load({maxFaces:1})).then(function(e){t.model=e})})}catch(t){return r()}return o&&o.then?o.then(void 0,r):o}(0,function(){console.error("Model not loaded")});return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},i.detect=function(t){try{var e=this;return Promise.resolve(e.model.estimateFaces(t)).then(function(t){if(!t.length)return!1;var r=e.__getPredictionData(t[0]),o=e.__getNosePointVectors(r.nose.tip,r.face.center,r.scale);return{int_vectors:o,vectors:o,predictions:t[0]}})}catch(t){return Promise.reject(t)}},i.__getPredictionData=function(t){var o=t.landmarks[2],n=e(t.landmarks[0],t.landmarks[1]),i=t.topLeft,s=t.bottomRight,a=s[0]-i[0],c=s[1]-i[1];return{scale:n/r,face:{topLeft:i,bottomRight:s,width:a,height:c,center:[i[0]+a/2,i[1]+c/2]},nose:{tip:o}}},n}(o);export default n;
//# sourceMappingURL=VDBlaze-9834f303.js.map
